var ReturnBackService=function(){var e=function(e){e.status===Const.RETURN.STATUS.SUCCESS&&(User.setUserId(e.userId),User.setNickname(e.nickname),View.loginBoxOut())},a=function(e){e.status===Const.RETURN.STATUS.SUCCESS&&(User.setUserType("blanker"),Ceil.setBlankerId(e.blankerId),Ceil.setCeilId(e.ceilId),Ceil.setName(e.name),View.showCeil())},s=function(e){e.status===Const.RETURN.STATUS.SUCCESS&&(User.setUserType("player"),Ceil.setCeilId(e.ceilId),Ceil.setName(e.name),Ceil.setBlankerId(e.blankerId),Ceil.setPlayerId(e.playerId),View.showCeil())},t=function(e){data.status===Const.RETURN.STATUS.SUCCESS&&(User.setUserType(null),Ceil.setCeilId(null),Ceil.setBlankerId(null),Ceil.setName(null),Ceil.setPlayerId(null),View.showIndex())},n=function(e){data.status===Const.RETURN.STATUS.SUCCESS&&(User.setUserType(null),Ceil.setCeilId(null),Ceil.setBlankerId(null),Ceil.setName(null),Ceil.setPlayerId(null),View.showIndex())},i=function(i){switch(i.data.ack){case Const.RETURN.ACK.LOGIN:e(i.data);break;case Const.RETURN.ACK.ADD:a(i.data);break;case Const.RETURN.ACK.ENTER:s(i.data);break;case Const.RETURN.ACK.EXIT:t(i);break;case Const.RETURN.ACK.CLOSE:n(i)}};return{handle:i}}(),TransmitService=function(){var e=function(e){switch(e.data.action){case"begin":a(e.data);break;case"hit":s(e.data);break;case"stand":t(e.data);break;case"bust":n(e.data);break;default:i(e.data)}},a=function(e){opCards.addCard(e.card),View.showUpCard("callback"),View.showUpCard(e.card),"blanker"===User.getUserType()&&View.beginAction()},s=function(e){opCards.addCard(e.card),View.showUpCard(e.card)},t=function(e){opCards.addCard(e.card),View.replaceCardBack(e.card),"blanker"===User.getUserType()?View.activeStandAndHit():"planker"===User.getUserType()},n=function(e){"blanker"===User.getUserType()?View.showMessage(Const.MESSAGE.PLAYER_BUST):View.showMessage(Const.MESSAGE.BLANKER_BUST)},i=function(e){console.log("TransmitService defaultHandler...")};return{handle:e}}(),BroadcastService=function(){var e=function(e){switch(e.data.action){case Const.RETURN.ACTION.UPDATE_USER_NUM:a(e.data);break;case Const.RETURN.ACTION.ADD_CEIL:s(e.data);break;case Const.RETURN.ACTION.DEL_CEIL:t(e.data);break;case Const.RETURN.ACTION.UPDATE_CEIL:n(e.data);break;default:console.log("client broadcast default...")}},a=function(e){View.indexUpdateUserNum(e.userNum),"delete"===e.type&&("blanker"===User.getUserType()?e.userId===Ceil.getPlayerId()&&View.showMessage(Const.MESSAGE.PLAYER_LOST):"player"===User.getUserType()&&e.useId===Ceil.getBlankerId()&&View.showMessage(Const.MESSAGE.BLANKER_LOST))},s=function(e){View.indexAddCeil(e.ceil,e.blankerNickname)},t=function(e){View.indexDelCeil(e.ceilId),"player"===User.getUserType()&&Ceil.getCeilId()===e.ceilId&&View.showMessage(Const.MESSAGE.BLANKER_EXIT)},n=function(e){View.indexUpdateCeil(e.ceil),e.ceil.ceilId===User.getCeilId()&&(null===e.ceil.playerId?View.showMessage(Const.MESSAGE.PLAYER_EXIT):null!=e.ceil.playerId&&View.showMessage(Const.MESSAGE.PLAYER_ENTER))};return{handle:e}}();